<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Provide Climate Risk Dashboard</title>
  <style>
    /* ---------- CSS (from style.css) ---------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
      line-height: 1.6;
    }

    .header {
      background: white;
      padding: 1rem 2rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      color: #4285f4;
    }

    .nav {
      display: flex;
      gap: 1.5rem;
    }

    .nav-item {
      text-decoration: none;
      color: #666;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }

    .nav-item:hover,
    .nav-item:focus {
      background: #4285f4;
      color: white;
    }

    .container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    .section {
      background: #fff;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    h3 {
      font-size: 1.25rem;
      margin-top: 1.5rem;
      margin-bottom: 1rem;
    }

    ul {
      list-style: disc inside;
      margin-bottom: 1rem;
    }

    form {
      margin-bottom: 2rem;
    }

    form label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }

    form input[type="text"],
    form input[type="date"],
    form input[type="number"],
    form select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      margin-top: 0.25rem;
      margin-bottom: 1rem;
      font-size: 1rem;
    }

    form button {
      padding: 0.75rem 1.5rem;
      background: #4285f4;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    form button:hover {
      background: #3367d6;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 2rem;
    }

    table thead {
      background: #4285f4;
      color: white;
    }

    table th,
    table td {
      padding: 0.75rem;
      border: 1px solid #e9ecef;
      text-align: left;
    }

    table tbody tr:nth-child(even) {
      background: #f8f9fa;
    }

    /* Utility: anchor offset to avoid sticky header overlap */
    .anchor-offset {
      display: block;
      position: relative;
      top: -80px;
      visibility: hidden;
    }
  </style>
</head>
<body>
  <!-- ========== NAVIGATION ========== -->
  <header class="header">
    <div class="logo">PROVIDE Climate Risk Dashboard</div>
    <nav class="nav">
      <a class="nav-item" href="#landing">Dashboard</a>
      <a class="nav-item" href="#mission">Mission</a>
      <a class="nav-item" href="#weatherstation-view">Weather Station View</a>
      <a class="nav-item" href="#climate-metric-view">Climate Metric View</a>
      <a class="nav-item" href="#station-similarity">Station Similarity</a>
      <a class="nav-item" href="#metric-similarity">Metric Similarity</a>
    </nav>
  </header>

  <main class="container">
    <!-- ========== Landing Page (Level 1, Sub-Task A) ========== -->
    <div id="landing" class="anchor-offset"></div>
    <section class="section">
      <h2>Landing Page Facts</h2>
      <ul>
        <li>Data available from <strong>{{ year_start }}</strong> to <strong>{{ year_end }}</strong></li>
        <li>
          Lowest recorded temperature:
          <strong>{{ lowest_temp }}&deg;C</strong> at station
          <strong>{{ lowest_station }}</strong>
        </li>
        <li>
          Highest recorded rainfall:
          <strong>{{ highest_rainfall }} mm</strong> at station
          <strong>{{ highest_rainfall_station }}</strong>
        </li>
        <li>
          Region with most weather stations:
          <strong>{{ most_stations_region }}</strong> ({{ station_count }})
        </li>
      </ul>
    </section>

    <!-- ========== Mission Statement (Level 1, Sub-Task B) ========== -->
    <div id="mission" class="anchor-offset"></div>
    <section class="section">
      <h2>Mission Statement</h2>
      <p>
        Our website addresses anthropogenic climate change by presenting clear,
        accessible, and data-driven insights for the general public,
        researchers, and policymakers.
      </p>

      <h3>Personas</h3>
      <ul>
        <!-- Repeat this <li> block for each persona in your database -->
        <li><strong>{{ persona.name }}</strong>: {{ persona.description }}</li>
        <!-- … -->
      </ul>

      <h3>Team Members</h3>
      <ul>
        <!-- Repeat <li> for each team member -->
        <li>{{ member.name }} ({{ member.student_number }})</li>
        <!-- … -->
      </ul>
    </section>

    <!-- ========== Weather Station View (Level 2, Sub-Task A) ========== -->
    <div id="weatherstation-view" class="anchor-offset"></div>
    <section class="section">
      <h2>Station‐Based Climate View</h2>

      <form action="#weatherstation-view" method="get">
        <label>
          State:
          <input type="text" name="state" value="{{ state }}" />
        </label>

        <label>
          Latitude Range:
          <input type="text" name="lat1" value="{{ lat1 }}" />
          to
          <input type="text" name="lat2" value="{{ lat2 }}" />
        </label>

        <label>
          Metric:
          <input type="text" name="metric" value="{{ metric }}" />
        </label>

        <button type="submit">Filter</button>
      </form>

      <h3>Matching Weather Stations</h3>
      <table>
        <thead>
          <tr>
            <th>Site Name</th>
            <th>Region</th>
            <th>Latitude</th>
          </tr>
        </thead>
        <tbody>
          <!-- Repeat for each station in the result set -->
          <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
          </tr>
          <!-- … -->
        </tbody>
      </table>

      <h3>Summary by Region</h3>
      <table>
        <thead>
          <tr>
            <th>Region</th>
            <th>Station Count</th>
            <th>Avg Temp</th>
          </tr>
        </thead>
        <tbody>
          <!-- Repeat for each summary row -->
          <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
          </tr>
          <!-- … -->
        </tbody>
      </table>
    </section>

    <!-- ========== Climate Metric View (Level 2, Sub-Task B) ========== -->
    <div id="climate-metric-view" class="anchor-offset"></div>
    <section class="section">
      <h2>Climate Metric Analysis</h2>

      <form action="#climate-metric-view" method="get">
        <label>
          Metric:
          <input type="text" name="metric" value="{{ metric }}" />
        </label>

        <label>
          Station ID Range:
          <input type="text" name="id_start" value="{{ id_start }}" />
          to
          <input type="text" name="id_end" value="{{ id_end }}" />
        </label>

        <label>
          Date Range:
          <input type="date" name="start_date" value="{{ start_date }}" />
          to
          <input type="date" name="end_date" value="{{ end_date }}" />
        </label>

        <button type="submit">Show Data</button>
      </form>

      <h3>Daily Data</h3>
      <table>
        <thead>
          <tr>
            <th>Station ID</th>
            <th>Date</th>
            <th>{{ metric }}</th>
          </tr>
        </thead>
        <tbody>
          <!-- Repeat for each raw data row -->
          <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
          </tr>
          <!-- … -->
        </tbody>
      </table>

      <h3>Summary by State</h3>
      <table>
        <thead>
          <tr>
            <th>State</th>
            <th>Total {{ metric }}</th>
          </tr>
        </thead>
        <tbody>
          <!-- Repeat for each summary row -->
          <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
          </tr>
          <!-- … -->
        </tbody>
      </table>
    </section>

    <!-- ========== Station Similarity (Level 3, Sub-Task A) ========== -->
    <div id="station-similarity" class="anchor-offset"></div>
    <section class="section">
      <h2>Similar Weather Stations</h2>

      <form action="#station-similarity" method="get">
        <label>
          Reference Station ID:
          <input type="number" name="ref_id" value="{{ ref_id }}" />
        </label>

        <label>
          Period 1:
          <input type="date" name="p1_start" value="{{ p1_start }}" />
          to
          <input type="date" name="p1_end" value="{{ p1_end }}" />
        </label>

        <label>
          Period 2:
          <input type="date" name="p2_start" value="{{ p2_start }}" />
          to
          <input type="date" name="p2_end" value="{{ p2_end }}" />
        </label>

        <label>
          Metric:
          <input type="text" name="metric" value="{{ metric }}" />
        </label>

        <label>
          Top N:
          <input type="number" name="top_n" value="{{ top_n }}" />
        </label>

        <button type="submit">Find Similar</button>
      </form>

      <h3>Results</h3>
      <table>
        <thead>
          <tr>
            <th>Station ID</th>
            <th>Avg1</th>
            <th>Avg2</th>
            <th>% Change</th>
            <th>Difference</th>
          </tr>
        </thead>
        <tbody>
          <!-- Repeat for each result row -->
          <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
            <td>{{ row[4] }}</td>
          </tr>
          <!-- … -->
        </tbody>
      </table>
    </section>

    <!-- ========== Metric Similarity (Level 3, Sub-Task B) ========== -->
    <div id="metric-similarity" class="anchor-offset"></div>
    <section class="section">
      <h2>Similar Climate Metrics</h2>

      <form action="#metric-similarity" method="get">
        <label>
          Reference Metric:
          <input type="text" name="ref_metric" value="{{ ref_metric }}" />
        </label>

        <label>
          Period 1:
          <input type="date" name="p1_start" value="{{ p1_start }}" />
          to
          <input type="date" name="p1_end" value="{{ p1_end }}" />
        </label>

        <label>
          Period 2:
          <input type="date" name="p2_start" value="{{ p2_start }}" />
          to
          <input type="date" name="p2_end" value="{{ p2_end }}" />
        </label>

        <label>
          Top N:
          <input type="number" name="top_n" value="{{ top_n }}" />
        </label>

        <button type="submit">Find Similar</button>
      </form>

      <h3>Results</h3>
      <table>
        <thead>
          <tr>
            <th>Metric</th>
            <th>Total1</th>
            <th>Total2</th>
            <th>% Change</th>
            <th>Difference</th>
          </tr>
        </thead>
        <tbody>
          <!-- Repeat for each result row -->
          <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
            <td>{{ row[4] }}</td>
          </tr>
          <!-- … -->
        </tbody>
      </table>
    </section>
  </main>
</body>
</html>
